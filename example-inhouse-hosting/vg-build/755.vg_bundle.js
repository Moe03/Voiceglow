"use strict";(self.webpackChunkcustom_vf_nextjs=self.webpackChunkcustom_vf_nextjs||[]).push([[755],{9660:(e,t,n)=>{n.d(t,{Z:()=>v});var a=n(2167),r=n(7294),i=n(7897),l=n(2134),o=n(4352),s=r.createElement;function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=(0,l.Gp)((function(e,t){var n=(0,o.G)(c(c({},e),{},{ref:t})),a=n.Component,l=n.label,u=n.description,d=n.isClearable,v=n.startContent,g=n.endContent,p=n.labelPlacement,f=n.hasHelper,m=n.isOutsideLeft,b=n.shouldLabelBeOutside,h=n.errorMessage,y=n.getBaseProps,w=n.getLabelProps,x=n.getInputProps,P=n.getInnerWrapperProps,I=n.getInputWrapperProps,D=n.getMainWrapperProps,O=n.getHelperWrapperProps,k=n.getDescriptionProps,_=n.getErrorMessageProps,N=n.getClearButtonProps,C=l?s("label",w(),l):null,W=(0,r.useMemo)((function(){return d?s("span",N(),g||s(i.f,null)):g}),[d,N]),S=(0,r.useMemo)((function(){return f?s("div",O(),h?s("div",_(),h):u?s("div",k(),u):null):null}),[f,h,u,O,_,k]),Z=(0,r.useMemo)((function(){return v||W?s("div",P(),v,s("input",x()),W):s("div",P(),s("input",x()))}),[v,W,x,P]),E=(0,r.useMemo)((function(){return b?s("div",D(),s("div",I(),m?null:C,Z),S):s(r.Fragment,null,s("div",I(),C,Z),S)}),[p,S,b,C,Z,h,u,D,I,_,k]);return s(a,y(),m?C:null,E)}));d.displayName="NextUI.Input";const v=d},2931:(e,t,n)=>{n.d(t,{Z:()=>b});var a=n(7462),r=n(2167),i=n(5987),l=n(7294),o=n(262),s=n(2134),u=n(1844),c=n(8514),d=n(4352),v=["style","minRows","maxRows","cacheMeasurements","disableAutosize","onHeightChange"],g=l.createElement;function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=(0,s.Gp)((function(e,t){var n=e.style,r=e.minRows,s=void 0===r?3:r,p=e.maxRows,m=void 0===p?8:p,b=e.cacheMeasurements,h=void 0!==b&&b,y=e.disableAutosize,w=void 0!==y&&y,x=e.onHeightChange,P=(0,i.Z)(e,v),I=(0,d.G)(f(f({},P),{},{ref:t,isMultiline:!0})),D=I.Component,O=I.label,k=I.description,_=I.startContent,N=I.endContent,C=I.hasHelper,W=I.shouldLabelBeOutside,S=I.shouldLabelBeInside,Z=I.errorMessage,E=I.getBaseProps,j=I.getLabelProps,G=I.getInputProps,M=I.getInnerWrapperProps,z=I.getInputWrapperProps,T=I.getHelperWrapperProps,F=I.getDescriptionProps,B=I.getErrorMessageProps,V=(0,l.useState)(s>1),A=V[0],R=V[1],L=(0,l.useState)(!1),H=L[0],U=L[1],J=O?g("label",j(),O):null,q=G(),K=w?g("textarea",(0,a.Z)({},q,{style:(0,u.dG)(q.style,null!=n?n:{})})):g(c.Z,(0,a.Z)({},q,{cacheMeasurements:h,"data-hide-scroll":(0,o.PB)(!H),maxRows:m,minRows:s,style:(0,u.dG)(q.style,null!=n?n:{}),onHeightChange:function(e,t){if(1===s&&R(e>=2*t.rowHeight),m>s){var n=e>=m*t.rowHeight;U(n)}null==x||x(e,t)}})),X=(0,l.useMemo)((function(){return _||N?g("div",M(),_,K,N):g("div",M(),K)}),[_,q,N,M]);return g(D,E(),W?J:null,g("div",(0,a.Z)({},z(),{"data-has-multiple-rows":(0,o.PB)(A)}),S?J:null,X),C?g("div",T(),Z?g("div",B(),Z):k?g("div",F(),k):null):null)}));m.displayName="NextUI.Textarea";const b=m},4352:(e,t,n)=>{n.d(t,{G:()=>O});var a=n(2982),r=n(2167),i=n(5987),l=n(885),o=n(2134),s=n(8628),u=n(7464),c=n(3899),d=(0,u.tv)({slots:{base:" vg-group vg-flex vg-flex-col ",label:[" vg-absolute "," vg-z-10 "," vg-pointer-events-none "," vg-origin-top-left "," vg-subpixel-antialiased "," vg-block "," vg-text-small "," vg-text-foreground-500 "],mainWrapper:" vg-h-full ",inputWrapper:" vg-relative vg-w-full vg-inline-flex vg-tap-highlight-transparent vg-flex-row vg-items-center vg-shadow-sm vg-px-3 vg-gap-3 ",innerWrapper:" vg-inline-flex vg-w-full vg-items-center vg-h-full vg-box-border ",input:[" vg-w-full vg-font-normal vg-bg-transparent vg-!outline-none vg-placeholder:text-foreground-500 vg-focus-visible:outline-none "," vg-data-[has-start-content=true]:ps-1.5 "," vg-data-[has-end-content=true]:pe-1.5 "],clearButton:[" vg-p-2 "," vg--m-2 "," vg-z-10 "," vg-hidden "," vg-absolute "," vg-right-3 "," vg-appearance-none "," vg-outline-none "," vg-select-none "," vg-opacity-0 "," vg-hover:!opacity-100 "," vg-cursor-pointer "," vg-active:!opacity-70 "," vg-rounded-full "].concat((0,a.Z)(c.Dh)),helperWrapper:" vg-hidden vg-group-data-[has-helper=true]:flex vg-p-1 vg-relative vg-flex-col vg-gap-1.5 ",description:" vg-text-tiny vg-text-foreground-400 ",errorMessage:" vg-text-tiny vg-text-danger "},variants:{variant:{flat:{inputWrapper:[" vg-bg-default-100 "," vg-data-[hover=true]:bg-default-200 "," vg-group-data-[focus=true]:bg-default-100 "]},faded:{inputWrapper:[" vg-bg-default-100 "," vg-border-medium "," vg-border-default-200 "," vg-data-[hover=true]:border-default-400 "],value:" vg-group-data-[has-value=true]:text-default-foreground "},bordered:{inputWrapper:[" vg-border-medium "," vg-border-default-200 "," vg-data-[hover=true]:border-default-400 "," vg-group-data-[focus=true]:border-default-foreground "]},underlined:{inputWrapper:[" vg-!px-1 "," vg-!pb-0 "," vg-!gap-0 "," vg-relative "," vg-box-border "," vg-border-b-medium ","shadow-[0_1px_0px_0_rgba(0,0,0,0.05)]"," vg-border-default-200 "," vg-!rounded-none "," vg-hover:border-default-300 "," vg-after:content-[''] "," vg-after:w-0 "," vg-after:origin-center "," vg-after:bg-default-foreground "," vg-after:absolute "," vg-after:left-1/2 "," vg-after:-translate-x-1/2 "," vg-after:-bottom-[2px] "," vg-after:h-[2px] "," vg-group-data-[focus=true]:after:w-full "],innerWrapper:" vg-pb-1 ",label:" vg-group-data-[filled-within=true]:text-foreground "}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},size:{sm:{label:" vg-text-tiny ",inputWrapper:" vg-h-unit-8 vg-min-h-unit-8 vg-px-2 vg-rounded-small ",input:" vg-text-small ",clearButton:" vg-text-medium "},md:{inputWrapper:" vg-h-unit-10 vg-min-h-unit-10 vg-rounded-medium ",input:" vg-text-small ",clearButton:" vg-text-large "},lg:{inputWrapper:" vg-h-unit-12 vg-min-h-unit-12 vg-rounded-large ",input:" vg-text-medium ",clearButton:" vg-text-large "}},radius:{none:{inputWrapper:" vg-rounded-none "},sm:{inputWrapper:" vg-rounded-small "},md:{inputWrapper:" vg-rounded-medium "},lg:{inputWrapper:" vg-rounded-large "},full:{inputWrapper:" vg-rounded-full "}},labelPlacement:{outside:{mainWrapper:" vg-flex vg-flex-col "},"outside-left":{base:" vg-flex-row vg-items-center vg-flex-nowrap vg-data-[has-helper=true]:items-start ",inputWrapper:" vg-flex-1 ",mainWrapper:" vg-flex vg-flex-col ",label:" vg-relative vg-text-foreground vg-pr-2 "},inside:{label:" vg-text-tiny vg-cursor-text ",inputWrapper:" vg-flex-col vg-items-start vg-justify-center vg-gap-0 ",innerWrapper:" vg-test vg-group-data-[has-label=true]:items-end "}},fullWidth:{true:{base:" vg-w-full "}},isClearable:{true:{input:" vg-peer vg-pr-6 ",clearButton:" vg-peer-data-[filled=true]:opacity-70 vg-peer-data-[filled=true]:block "}},isDisabled:{true:{base:" vg-opacity-disabled vg-pointer-events-none ",inputWrapper:" vg-pointer-events-none ",label:" vg-pointer-events-none "}},isInvalid:{true:{label:" vg-!text-danger ",input:" vg-!placeholder:text-danger vg-!text-danger "}},isRequired:{true:{label:" vg-after:content-['*'] vg-after:text-danger vg-after:ml-0.5 "}},isMultiline:{true:{label:" vg-relative ",inputWrapper:" vg-!h-auto ",innerWrapper:" vg-items-start vg-group-data-[has-label=true]:items-start ",input:" vg-resize-none vg-data-[hide-scroll=true]:scrollbar-hide "}},disableAnimation:{true:{input:" vg-transition-none ",inputWrapper:" vg-transition-none ",label:" vg-transition-none "},false:{inputWrapper:" vg-transition-background vg-motion-reduce:transition-none vg-!duration-150 ",label:[" vg-will-change-auto "," vg-!duration-200 "," vg-!ease-out "," vg-motion-reduce:transition-none "," vg-transition-[transform,color,left,opacity] "],clearButton:[" vg-transition-opacity "," vg-motion-reduce:transition-none "]}}},defaultVariants:{variant:"flat",color:"default",size:"md",fullWidth:!0,labelPlacement:"inside",isDisabled:!1,isMultiline:!1,disableAnimation:!1},compoundVariants:[{variant:"flat",color:"default",class:{input:" vg-group-data-[has-value=true]:text-default-foreground "}},{variant:"flat",color:"primary",class:{inputWrapper:[" vg-bg-primary-50 "," vg-data-[hover=true]:bg-primary-100 "," vg-text-primary "," vg-group-data-[focus=true]:bg-primary-50 "," vg-placeholder:text-primary "],input:" vg-placeholder:text-primary ",label:" vg-text-primary "}},{variant:"flat",color:"secondary",class:{inputWrapper:[" vg-bg-secondary-50 "," vg-text-secondary "," vg-data-[hover=true]:bg-secondary-100 "," vg-group-data-[focus=true]:bg-secondary-50 "," vg-placeholder:text-secondary "],input:" vg-placeholder:text-secondary ",label:" vg-text-secondary "}},{variant:"flat",color:"success",class:{inputWrapper:[" vg-bg-success-50 "," vg-text-success-600 "," vg-dark:text-success "," vg-placeholder:text-success-600 "," vg-dark:placeholder:text-success "," vg-data-[hover=true]:bg-success-100 "," vg-group-data-[focus=true]:bg-success-50 "],input:" vg-placeholder:text-success-600 vg-dark:placeholder:text-success ",label:" vg-text-success-600 vg-dark:text-success "}},{variant:"flat",color:"warning",class:{inputWrapper:[" vg-bg-warning-50 "," vg-text-warning-600 "," vg-dark:text-warning "," vg-placeholder:text-warning-600 "," vg-dark:placeholder:text-warning "," vg-data-[hover=true]:bg-warning-100 "," vg-group-data-[focus=true]:bg-warning-50 "],input:" vg-placeholder:text-warning-600 vg-dark:placeholder:text-warning ",label:" vg-text-warning-600 vg-dark:text-warning "}},{variant:"flat",color:"danger",class:{inputWrapper:[" vg-bg-danger-50 "," vg-text-danger "," vg-dark:text-danger-500 "," vg-placeholder:text-danger "," vg-dark:placeholder:text-danger-500 "," vg-data-[hover=true]:bg-danger-100 "," vg-group-data-[focus=true]:bg-danger-50 "],input:" vg-placeholder:text-danger vg-dark:placeholder:text-danger-500 ",label:" vg-text-danger vg-dark:text-danger-500 "}},{variant:"faded",color:"primary",class:{label:" vg-text-primary ",inputWrapper:" vg-data-[hover=true]:border-primary vg-focus-within:border-primary "}},{variant:"faded",color:"secondary",class:{label:" vg-text-secondary ",inputWrapper:" vg-data-[hover=true]:border-secondary vg-focus-within:border-secondary "}},{variant:"faded",color:"success",class:{label:" vg-text-success ",inputWrapper:" vg-data-[hover=true]:border-success vg-focus-within:border-success "}},{variant:"faded",color:"warning",class:{label:" vg-text-warning ",inputWrapper:" vg-data-[hover=true]:border-warning vg-focus-within:border-warning "}},{variant:"faded",color:"danger",class:{label:" vg-text-danger ",inputWrapper:" vg-data-[hover=true]:border-danger vg-focus-within:border-danger "}},{variant:"underlined",color:"default",class:{input:" vg-group-data-[has-value=true]:text-foreground "}},{variant:"underlined",color:"primary",class:{inputWrapper:" vg-after:bg-primary ",label:" vg-text-primary "}},{variant:"underlined",color:"secondary",class:{inputWrapper:" vg-after:bg-secondary ",label:" vg-text-secondary "}},{variant:"underlined",color:"success",class:{inputWrapper:" vg-after:bg-success ",label:" vg-text-success "}},{variant:"underlined",color:"warning",class:{inputWrapper:" vg-after:bg-warning ",label:" vg-text-warning "}},{variant:"underlined",color:"danger",class:{inputWrapper:" vg-after:bg-danger ",label:" vg-text-danger "}},{variant:"bordered",color:"primary",class:{inputWrapper:" vg-group-data-[focus=true]:border-primary ",label:" vg-text-primary "}},{variant:"bordered",color:"secondary",class:{inputWrapper:" vg-group-data-[focus=true]:border-secondary ",label:" vg-text-secondary "}},{variant:"bordered",color:"success",class:{inputWrapper:" vg-group-data-[focus=true]:border-success ",label:" vg-text-success "}},{variant:"bordered",color:"warning",class:{inputWrapper:" vg-group-data-[focus=true]:border-warning ",label:" vg-text-warning "}},{variant:"bordered",color:"danger",class:{inputWrapper:" vg-group-data-[focus=true]:border-danger ",label:" vg-text-danger "}},{labelPlacement:"inside",color:"default",class:{label:" vg-group-data-[filled-within=true]:text-default-600 "}},{labelPlacement:"outside",color:"default",class:{label:" vg-group-data-[filled-within=true]:text-foreground "}},{radius:"full",size:["sm"],class:{inputWrapper:" vg-px-3 "}},{radius:"full",size:"md",class:{inputWrapper:" vg-px-4 "}},{radius:"full",size:"lg",class:{inputWrapper:" vg-px-5 "}},{disableAnimation:!1,variant:["faded","bordered"],class:{inputWrapper:" vg-transition-colors vg-motion-reduce:transition-none "}},{disableAnimation:!1,variant:"underlined",class:{inputWrapper:" vg-after:transition-width vg-motion-reduce:after:transition-none "}},{variant:["flat","faded"],class:{inputWrapper:(0,a.Z)(c.ID)}},{isInvalid:!0,variant:"flat",class:{inputWrapper:[" vg-bg-danger-50 "," vg-data-[hover=true]:bg-danger-100 "," vg-group-data-[focus=true]:bg-danger-50 "]}},{isInvalid:!0,variant:"bordered",class:{inputWrapper:" vg-!border-danger vg-group-data-[focus=true]:border-danger "}},{isInvalid:!0,variant:"underlined",class:{inputWrapper:" vg-after:bg-danger "}},{labelPlacement:"inside",size:"sm",class:{inputWrapper:" vg-h-12 vg-py-1.5 vg-px-3 "}},{labelPlacement:"inside",size:"md",class:{inputWrapper:" vg-h-14 vg-py-2 "}},{labelPlacement:"inside",size:"lg",class:{label:" vg-text-small ",inputWrapper:" vg-h-16 vg-py-2.5 vg-gap-0 "}},{labelPlacement:"inside",size:"sm",variant:["bordered","faded"],class:{inputWrapper:" vg-py-1 "}},{labelPlacement:["inside","outside"],class:{label:[" vg-group-data-[filled-within=true]:pointer-events-auto "]}},{labelPlacement:["outside","outside-left"],class:{input:" vg-h-full "}},{labelPlacement:"outside",isMultiline:!1,class:{base:" vg-group vg-relative vg-justify-end ",label:[" vg-pb-0 "," vg-z-20 "," vg-top-1/2 "," vg--translate-y-1/2 "," vg-group-data-[filled-within=true]:left-0 "]}},{labelPlacement:["inside"],class:{label:[" vg-group-data-[filled-within=true]:scale-85 "]}},{labelPlacement:["inside"],variant:"flat",class:{innerWrapper:" vg-pb-0.5 "}},{variant:"underlined",size:"sm",class:{innerWrapper:" vg-pb-1 "}},{variant:"underlined",size:["md","lg"],class:{innerWrapper:" vg-pb-1.5 "}},{labelPlacement:"inside",size:["sm","md"],class:{label:" vg-text-small "}},{labelPlacement:"inside",isMultiline:!1,size:"sm",class:{label:[" vg-group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_8px)] "]}},{labelPlacement:"inside",isMultiline:!1,size:"md",class:{label:[" vg-group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_6px)] "]}},{labelPlacement:"inside",isMultiline:!1,size:"lg",class:{label:[" vg-text-medium "," vg-group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_8px)] "]}},{labelPlacement:"inside",variant:["faded","bordered"],isMultiline:!1,size:"sm",class:{label:[" vg-group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_8px_-_theme(borderWidth.medium))] "]}},{labelPlacement:"inside",variant:["faded","bordered"],isMultiline:!1,size:"md",class:{label:[" vg-group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_6px_-_theme(borderWidth.medium))] "]}},{labelPlacement:"inside",variant:["faded","bordered"],isMultiline:!1,size:"lg",class:{label:[" vg-text-medium "," vg-group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_8px_-_theme(borderWidth.medium))] "]}},{labelPlacement:"inside",variant:"underlined",isMultiline:!1,size:"sm",class:{label:[" vg-group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_5px)] "]}},{labelPlacement:"inside",variant:"underlined",isMultiline:!1,size:"md",class:{label:[" vg-group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_3.5px)] "]}},{labelPlacement:"inside",variant:"underlined",size:"lg",isMultiline:!1,class:{label:[" vg-text-medium "," vg-group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_4px)] "]}},{labelPlacement:"outside",size:"sm",isMultiline:!1,class:{label:[" vg-left-2 "," vg-text-tiny "," vg-group-data-[filled-within=true]:-translate-y-[calc(100%_+_theme(fontSize.tiny)/2_+_16px)] "],base:" vg-data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_8px)] "}},{labelPlacement:"outside",size:"md",isMultiline:!1,class:{label:[" vg-left-3 "," vg-text-small "," vg-group-data-[filled-within=true]:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_20px)] "],base:" vg-data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_10px)] "}},{labelPlacement:"outside",size:"lg",isMultiline:!1,class:{label:[" vg-left-3 "," vg-text-medium "," vg-group-data-[filled-within=true]:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_24px)] "],base:" vg-data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_12px)] "}},{labelPlacement:"outside-left",size:"sm",class:{label:" vg-group-data-[has-helper=true]:pt-2 "}},{labelPlacement:"outside-left",size:"md",class:{label:" vg-group-data-[has-helper=true]:pt-3 "}},{labelPlacement:"outside-left",size:"lg",class:{label:" vg-group-data-[has-helper=true]:pt-4 "}},{labelPlacement:["outside","outside-left"],isMultiline:!0,class:{inputWrapper:" vg-py-2 "}},{labelPlacement:"outside",isMultiline:!0,class:{label:" vg-pb-1.5 "}},{labelPlacement:"inside",isMultiline:!0,class:{label:" vg-pb-0.5 ",input:" vg-pt-0 "}},{isMultiline:!0,disableAnimation:!1,class:{input:" vg-transition-height vg-!duration-100 vg-motion-reduce:transition-none "}},{labelPlacement:["inside","outside"],class:{label:[" vg-pe-2 "," vg-max-w-full "," vg-text-ellipsis "," vg-overflow-hidden "]}},{isMultiline:!0,radius:"full",class:{inputWrapper:" vg-data-[has-multiple-rows=true]:rounded-large "}}]}),v=n(1744),g=n(4333),p=n(8922),f=n(9869),m=n(4720),b=n(262),h=n(5897),y=n(7294),w=n(1844),x=n(4778),P=["ref","as","label","baseRef","wrapperRef","description","errorMessage","className","classNames","autoFocus","startContent","endContent","onClear","onChange","validationState","innerWrapperRef","onValueChange"];function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e){var t=(0,o.oe)(e,d.variantKeys),n=(0,l.Z)(t,2),r=n[0],u=n[1],c=r.ref,I=r.as,O=r.label,k=r.baseRef,_=r.wrapperRef,N=r.description,C=r.errorMessage,W=r.className,S=r.classNames,Z=r.autoFocus,E=r.startContent,j=r.endContent,G=r.onClear,M=r.onChange,z=r.validationState,T=r.innerWrapperRef,F=r.onValueChange,B=void 0===F?function(){}:F,V=(0,i.Z)(r,P),A=(0,y.useCallback)((function(e){B(null!=e?e:"")}),[B]),R=(0,h.zk)(r.value,r.defaultValue,A),L=(0,l.Z)(R,2),H=L[0],U=L[1],J=(0,y.useState)(!1),q=J[0],K=J[1],X=I||"div",Y=!!H,Q=Y||q,$=(0,f.W)(null==S?void 0:S.base,W,Y?"is-filled":""),ee=e.isMultiline,te=(0,v.gy)(c),ne=(0,v.gy)(k),ae=(0,v.gy)(_),re=(0,v.gy)(T),ie=(0,y.useCallback)((function(){U(""),te.current&&(te.current.value="",te.current.focus()),null==G||G()}),[te,U,G]),le=(0,x.E)(D(D({},e),{},{"aria-label":(0,m.x)(null==e?void 0:e["aria-label"],null==e?void 0:e.label,null==e?void 0:e.placeholder),inputElementType:ee?"textarea":"input",onChange:U}),te),oe=le.labelProps,se=le.inputProps,ue=le.descriptionProps,ce=le.errorMessageProps,de=(0,s.Fx)({autoFocus:Z,isTextInput:!0}),ve=de.isFocusVisible,ge=de.isFocused,pe=de.focusProps,fe=(0,p.XI)({isDisabled:!(null==e||!e.isDisabled)}),me=fe.isHovered,be=fe.hoverProps,he=(0,s.Fx)(),ye=he.focusProps,we=he.isFocusVisible,xe=(0,p.L_)({onFocusWithinChange:K}).focusWithinProps,Pe=(0,p.r7)({isDisabled:!(null==e||!e.isDisabled),onPress:ie}).pressProps,Ie="invalid"===z||e.isInvalid,De=(0,y.useMemo)((function(){var t;return e.labelPlacement&&"inside"!==e.labelPlacement||O?null!==(t=e.labelPlacement)&&void 0!==t?t:"inside":"outside"}),[e.labelPlacement,O]),Oe=!!G||e.isClearable,ke=!!O||!!N||!!C,_e=!!r.placeholder,Ne=!!O,Ce=!!N||!!C,We="outside"===De||"outside-left"===De,Se="inside"===De,Ze=!!te.current&&((!te.current.value||""===te.current.value||!H||""===H)&&_e),Ee="outside-left"===De,je=!!E,Ge=!!We&&("outside-left"===De||_e||"outside"===De&&je),Me="outside"===De&&!_e&&!je,ze=(0,y.useMemo)((function(){return d(D(D({},u),{},{isInvalid:Ie,isClearable:Oe}))}),[].concat((0,a.Z)(Object.values(u)),[Ie,Oe,je])),Te=(0,y.useCallback)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return D(D({ref:ne,className:ze.base({class:$}),"data-slot":"base","data-filled":(0,b.PB)(Y||_e||je||Ze),"data-filled-within":(0,b.PB)(Q||_e||je||Ze),"data-focus-within":(0,b.PB)(q),"data-focus-visible":(0,b.PB)(ve),"data-readonly":(0,b.PB)(e.isReadOnly),"data-focus":(0,b.PB)(ge),"data-hover":(0,b.PB)(me),"data-required":(0,b.PB)(e.isRequired),"data-invalid":(0,b.PB)(Ie),"data-disabled":(0,b.PB)(e.isDisabled),"data-has-elements":(0,b.PB)(ke),"data-has-helper":(0,b.PB)(Ce),"data-has-label":(0,b.PB)(Ne),"data-has-value":(0,b.PB)(!Ze)},xe),t)}),[ze,$,Y,ge,me,Ie,Ce,Ne,ke,Ze,je,q,ve,Q,_e,xe,e.isReadOnly,e.isRequired,e.isDisabled]),Fe=(0,y.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return D(D({"data-slot":"label",className:ze.label({class:null==S?void 0:S.label})},oe),e)}),[ze,oe,null==S?void 0:S.label]),Be=(0,y.useCallback)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return D(D({ref:te,"data-slot":"input","data-filled":(0,b.PB)(Y),"data-filled-within":(0,b.PB)(Q),"data-has-start-content":(0,b.PB)(je),"data-has-end-content":(0,b.PB)(!!j),className:ze.input({class:(0,f.W)(null==S?void 0:S.input,H?"is-filled":"")})},(0,w.dG)(pe,se,(0,g.z)(V,{enabled:!0,labelable:!0,omitEventNames:new Set(Object.keys(se))}),t)),{},{required:e.isRequired,"aria-readonly":(0,b.PB)(e.isReadOnly),"aria-required":(0,b.PB)(e.isRequired),onChange:(0,w.tS)(se.onChange,M)})}),[ze,H,pe,se,V,Y,Q,je,j,null==S?void 0:S.input,e.isReadOnly,e.isRequired,M]),Ve=(0,y.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return D(D({ref:ae,"data-slot":"input-wrapper","data-hover":(0,b.PB)(me),"data-focus-visible":(0,b.PB)(ve),"data-focus":(0,b.PB)(ge),className:ze.inputWrapper({class:(0,f.W)(null==S?void 0:S.inputWrapper,H?"is-filled":"")})},(0,w.dG)(e,be)),{},{onClick:function(e){te.current&&e.currentTarget===e.target&&te.current.focus()},style:D({cursor:"text"},e.style)})}),[ze,me,ve,ge,H,null==S?void 0:S.inputWrapper]),Ae=(0,y.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return D(D({},e),{},{ref:re,"data-slot":"inner-wrapper",onClick:function(e){te.current&&e.currentTarget===e.target&&te.current.focus()},className:ze.innerWrapper({class:(0,f.W)(null==S?void 0:S.innerWrapper,null==e?void 0:e.className)})})}),[ze,null==S?void 0:S.innerWrapper]),Re=(0,y.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return D(D({},e),{},{"data-slot":"main-wrapper",className:ze.mainWrapper({class:(0,f.W)(null==S?void 0:S.mainWrapper,null==e?void 0:e.className)})})}),[ze,null==S?void 0:S.mainWrapper]),Le=(0,y.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return D(D({},e),{},{"data-slot":"helper-wrapper",className:ze.helperWrapper({class:(0,f.W)(null==S?void 0:S.helperWrapper,null==e?void 0:e.className)})})}),[ze,null==S?void 0:S.helperWrapper]),He=(0,y.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return D(D(D({},e),ue),{},{"data-slot":"description",className:ze.description({class:(0,f.W)(null==S?void 0:S.description,null==e?void 0:e.className)})})}),[ze,null==S?void 0:S.description]),Ue=(0,y.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return D(D(D({},e),ce),{},{"data-slot":"error-message",className:ze.errorMessage({class:(0,f.W)(null==S?void 0:S.errorMessage,null==e?void 0:e.className)})})}),[ze,ce,null==S?void 0:S.errorMessage]),Je=(0,y.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return D(D({},e),{},{role:"button",tabIndex:0,"data-slot":"clear-button","data-focus-visible":(0,b.PB)(we),className:ze.clearButton({class:(0,f.W)(null==S?void 0:S.clearButton,null==e?void 0:e.className)})},(0,w.dG)(Pe,ye))}),[ze,we,Pe,ye,null==S?void 0:S.clearButton]);return{Component:X,classNames:S,domRef:te,label:O,description:N,startContent:E,endContent:j,labelPlacement:De,isClearable:Oe,isInvalid:Ie,hasHelper:Ce,hasStartContent:je,isLabelOutside:Ge,isOutsideLeft:Ee,isLabelOutsideAsPlaceholder:Me,shouldLabelBeOutside:We,shouldLabelBeInside:Se,hasPlaceholder:_e,errorMessage:C,getBaseProps:Te,getLabelProps:Fe,getInputProps:Be,getMainWrapperProps:Re,getInputWrapperProps:Ve,getInnerWrapperProps:Ae,getHelperWrapperProps:Le,getDescriptionProps:He,getErrorMessageProps:Ue,getClearButtonProps:Je}}},8871:(e,t,n)=>{n.d(t,{Z:()=>I});var a=n(7462),r=n(2167),i=n(5861),l=n(885),o=n(4687),s=n.n(o),u=n(7294),c=n(6271),d=n(9660),v=n(3850),g=n(3711),p=n(7516),f=n(7828),m=n(7619),b=n(7479),h=n(231),y=n(7693),w=u.createElement;function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const I=function(e){var t=(0,b.F)().getColor,n=(0,u.useState)(e.default||null),r=n[0],o=n[1],x=(0,u.useState)(!1),I=(x[0],x[1]),D=(0,u.useState)(0),O=D[0],k=D[1],_=(0,u.useState)(0),N=_[0],C=_[1],W=u.useState({fileName:!1}),S=(0,l.Z)(W,2),Z=(S[0],S[1]),E=(0,u.useState)(!1),j=E[0],G=E[1],M=u.useRef(null),z=(0,c.cF)(g.l2,"voiceglow-cdn");u.useEffect((function(){return function(){N&&(null==N||N.cancel())}}),[N]);var T=function(){var t=(0,i.Z)(s().mark((function t(){var n,a,r,l,u,d,v,g,p;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){var t=document.createElement("input");t.type="file",t.onchange=function(t){var n=t.target.files[0];e(n)},t.click()}));case 2:if((a=t.sent)&&((r=new FileReader).onload=function(){var e=(0,i.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.result,{type:"file",payload:{name:a.name,size:a.size,type:a.type,base64:n}};case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.readAsDataURL(a)),!e.isDisabled){t.next=6;break}return t.abrupt("return");case 6:o(""),l=a.size,u=e.path||"/public",(null===(n=a.name)||void 0===n||null===(n=n.split(".")[1])||void 0===n?void 0:n.toLowerCase())||!1,e.accept,d=Math.random().toString(36).slice(2,10),v="".concat(u,"/").concat(d,"_.").concat(a.name.split(".")[1]),g=(0,c.iH)(z,"".concat(v)),p=(0,c.B0)(g,a,{cacheControl:"public,max-age=31536000"}),C(p),p.on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);k(t)}),(function(e){}),(function(){(0,c.Jt)(g).then(function(){var t=(0,i.Z)(s().mark((function t(n){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r={url:n,path:"".concat(u),id:e.id||!1,dbFilePath:v,filename:a.name.split(".")[0],sizeKB:Math.round(l/1024)},e.callback&&e.callback(r),o(n),Z((function(e){return P(P({},e),{},{fileName:a.name})})),I(!1),k(0);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})),I(!0);case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,u.useEffect)((function(){var e=M.current,t=function(t){e&&!e.contains(t.target)&&G(!1)};return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}}),[]),w("div",{ref:M,className:" vg-relative vg-w-full vg-h-full vg-z-[10] vg-upload-float-container "},w(f.M,null,j?w(y.Z,{key:"uploadOptions",className:" vg-flex vg-flex-col vg-p-4 vg-rounded-large vg-absolute vg-top-[100%] vg-left-0 vg-z-[999] vg-w-[250px] vg-bg-background vg-gap-2 "},w(d.Z,{label:"URL",placeholder:"Link to a File",value:r,onValueChange:function(e){o(e),Z((function(e){return P(P({},e),{},{fileName:!1})}))},endContent:w(v.Z,{onPress:function(){G((function(e){return!e})),e.callback&&e.callback({url:r,path:"",id:"",dbFilePath:"",filename:"",sizeKB:0})},isIconOnly:!0},w(h.l_A,{className:" "}))}),w(v.Z,{size:"sm",variant:"solid",onPress:function(){T()}},"Upload")):null),w(v.Z,(0,a.Z)({color:"primary",variant:"light",isIconOnly:!0},e.buttonProps,{onPress:function(){G((function(e){return!e}))},className:" vg-w-full vg-h-full vg-relative ".concat(e.showEditIcon?" vg-flex vg-flex-col ":" "," ").concat(e.className," ")}),w(m.E.div,{className:" vg-absolute vg-bottom-0 vg-right-0 vg-z-1 vg-rotate-x-180 ",animate:{width:"100%",height:"".concat(100===O?0:O,"%"),backgroundColor:"".concat(t("success-500")),bottom:0},transition:{type:"spring",stiffness:600,damping:60,mass:.6}}),w("div",{className:" vg-relative vg-w-full vg-h-full vg-bottom-0 vg-left-0 vg-z-10 vg-flex vg-justify-center vg-items-center "},e.children),e.showEditIcon?w(p.y1O,{className:" vg-w-6 vg-h-6 vg-mt-[-10px] "}):null))}},6985:(e,t,n)=>{n.d(t,{Z:()=>u});var a=n(7294),r=n(3568),i=n(5244),l=n(9076),o=n(8122),s=a.createElement;const u=function(e){return s(r.U,{className:e.className,remarkPlugins:[i.Z],rehypePlugins:[l.Z,[o.Z,{target:"_blank",protocols:["http","https","mailto","tel"]}]]},e.children)}},2280:(e,t,n)=>{n.d(t,{Z:()=>g});var a=n(7462),r=n(5861),i=n(4687),l=n.n(i),o=n(7294),s=n(6103),u=n(2685),c=n(1194),d=n(6985),v=o.createElement;const g=function(e){var t,n,i=(0,u.J)().selectedLang,g=(0,o.useState)(!0),p=g[0],f=g[1],m=(0,o.useState)(""),b=m[0],h=m[1],y="automatic"===(null==e?void 0:e.to)||"automatic"===i?navigator.language.split("-")[0]:(null==e?void 0:e.to)||i;function w(){return(w=(0,r.Z)(l().mark((function t(){var n,a;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("en"!==y&&y){t.next=4;break}return h(e.text||(null==e?void 0:e.children)||""),f(!1),t.abrupt("return");case 4:return"https://voiceglow.org/api/translate",t.next=7,fetch("https://voiceglow.org/api/translate",{method:"POST",body:JSON.stringify({q:e.text||(null==e?void 0:e.children)||"",target:"automatic"===y?"en":y}),cache:"force-cache"});case 7:return n=t.sent,t.next=10,n.json();case 10:(a=t.sent).success,h(a.text),f(!1);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return o.useEffect((function(){!function(){w.apply(this,arguments)}()}),[y,null==e?void 0:e.text,null==e?void 0:e.children]),p&&(e.text||null!=e&&e.children)?v(s.Z,{className:" vg-rounded-large vg-h-3 vg-inline-block vg-m-1 ",style:{width:Math.min(6*((null==e||null===(t=e.children)||void 0===t?void 0:t.length)||(null===(n=e.text)||void 0===n?void 0:n.length)||2),200)}}):v(d.Z,(0,a.Z)({},e,{className:" vg-inline-block ".concat(e.className?e.className:" "," vg-vgd-text-view ")}),b?e.limit?(0,c.MB)(b,e.limit):b.replaceAll("לְבַטֵל","ביטול").replaceAll("הוֹדָעָה","הודעה").replaceAll("השב תוך דקות","מיד נתפנה אליכם"):"")}},8676:(e,t,n)=>{n.r(t),n.d(t,{RuntimeProvider:()=>W,default:()=>S,handlePushMessageNoInteract:()=>N,useRuntime:()=>_});var a=n(2982),r=n(2167),i=n(885),l=n(5861),o=n(4687),s=n.n(o),u=n(7294),c=n(381),d=n.n(c),v=n(3711),g=n(1148),p=n(9332),f=n(7844),m=n.n(f),b=n(1194),h=n(3953),y=n(6677),w=n(1300),x=n(4070),P=n(8965),I=u.createElement;function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=(0,u.createContext)("");function _(){var e=(0,u.useContext)(k);if(!e)throw new Error("useUserContext must be used within a UserProvider");return e}function N(e){return C.apply(this,arguments)}function C(){return(C=(0,l.Z)(s().mark((function e(t){var n,a,r,i,l,o,u,c,v,p,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.agentID,a=t.userID,r=t.messages,i=t.bucket,l=t.action,o=t.origin,u=t.appendAtStart,c=t.safeAgentData,v=t.vf_variables,p="gb-chat"===o||"vg"===(null==c?void 0:c.agentPlatform)||"web-chat"===o?"".concat((0,b.MC)({region:"voiceglow-eu"===i?"eu":"na"}),"/agents/").concat(n,"/interact/").concat(a):"".concat((0,g.Sw)({region:"voiceglow-eu"===i?"eu":"na"}),"/vg/").concat(n,"/vf/interact/").concat(a),e.next=4,fetch(p,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({origin:o,appendMessages:null!=r&&r.length?null==r?void 0:r.map((function(e){return O(O({},e),{},{ts:e.ts||d()().unix()})})):void 0,action:l||void 0,appendAtStart:u||!1,variables:v||{}})}).then((function(e){return e.json()}));case 4:return f=e.sent,e.abrupt("return",f);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W=function(e){var t,n,r,o,c,f,D,_,C,W,S,Z,E,j,G,M,z,T=(0,p.useParams)(),F=(0,p.useSearchParams)(),B=(0,p.usePathname)(),V=(null==F?void 0:F.get("vg_id"))||(null===(t=window)||void 0===t||null===(t=t.VG_CONFIG)||void 0===t?void 0:t.ID)||(null==T?void 0:T.vg_id)||(null===(n=e.variables)||void 0===n?void 0:n.ID),A={userID:(null===(r=window)||void 0===r||null===(r=r.VG_CONFIG)||void 0===r?void 0:r.userID)||"",loading:!0,chatHistory:[],lastResponse:null,defaultMessageDelay:1e3,variables:e.variables,reload:!1,blockInput:!1,shouldSyncBrowser:!1,blockLoading:!1,blockProactive:!1,blockAll:!1,hasInitStats:!1,manualControl:(null===(o=e.variables)||void 0===o?void 0:o.manualControl)||!1,agentName:"",lang:(null===(c=e.variables)||void 0===c?void 0:c.lang)||"en",showInstantly:!1,isSuperAdmin:!1};"undefined"!=typeof window&&(!window.VG_CONFIG&&(window.VG_CONFIG={}),window.VG_CONFIG.ID=(null===(M=window)||void 0===M?void 0:M.VG_ID)||(null==F?void 0:F.get("vg_id"))||(null===(z=window)||void 0===z||null===(z=z.VG_CONFIG)||void 0===z?void 0:z.ID));var R=m()("runtime_local",A),L=(0,i.Z)(R,2),H=L[0],U=L[1],J=u.useState("undefined"!=typeof window?!V||null==H||!H.userID||(null==H||null===(f=H.variables)||void 0===f?void 0:f.ID)!==V||null!==(D=H.variables)&&void 0!==D&&D.chatForget||null!==(_=e.variables)&&void 0!==_&&_.chatForget||null!==(C=window)&&void 0!==C&&null!==(C=C.VG_CONFIG)&&void 0!==C&&C.userID&&(null===(W=window)||void 0===W||null===(W=W.VG_CONFIG)||void 0===W?void 0:W.userID)!==(null==H?void 0:H.userID)?A:H:A),q=(0,i.Z)(J,2),K=q[0],X=q[1],Y=u.useState(!1),Q=(0,i.Z)(Y,2),$=Q[0],ee=Q[1],te=u.useState(null),ne=(0,i.Z)(te,2),ae=ne[0],re=ne[1],ie=u.useState([]),le=(0,i.Z)(ie,2),oe=le[0],se=le[1],ue=u.useState("undefined"!=typeof window?null===(S=window.location)||void 0===S?void 0:S.href:""),ce=(0,i.Z)(ue,2),de=ce[0],ve=ce[1],ge=u.useState(!1),pe=(0,i.Z)(ge,2),fe=pe[0],me=pe[1],be=(0,u.useState)("undefined"!=typeof window?"eu"===(null===(Z=window.VG_CONFIG)||void 0===Z?void 0:Z.region)||"eu"===(null==T?void 0:T.region)?"voiceglow-eu":"(default)":(null==K||null===(E=K.variables)||void 0===E?void 0:E.region)||"(default)"),he=be[0],ye=(be[1],(0,h.ad)(v.l2,he)),we=(0,y.ky)((0,h.JU)(ye,"voiceglow/".concat(V,"/convos/").concat(K.userID||"UNDEFINED","/convo/JSON_STRING")),{snapshotListenOptions:{includeMetadataChanges:!1}}),xe=(0,i.Z)(we,3),Pe=xe[0],Ie=xe[1],De=(xe[2],(0,y.ky)((0,h.JU)(ye,"voiceglow/".concat(V,"/convos/").concat(K.userID||"UNDEFINED")),{snapshotListenOptions:{includeMetadataChanges:!1}})),Oe=(0,i.Z)(De,3),ke=Oe[0],_e=(Oe[1],Oe[2],u.useState({})),Ne=(0,i.Z)(_e,2),Ce=Ne[0],We=Ne[1],Se=u.useState([]),Ze=(0,i.Z)(Se,2),Ee=Ze[0],je=Ze[1],Ge=u.useState(!1),Me=(0,i.Z)(Ge,2),ze=Me[0],Te=Me[1],Fe=u.useState(!1),Be=(0,i.Z)(Fe,2),Ve=Be[0],Ae=Be[1],Re=u.useState(!1),Le=(0,i.Z)(Re,2),He=(Le[0],Le[1]),Ue=(null==Ce?void 0:Ce.chatAssignedTo)&&"human-chatting"===(null==Ce?void 0:Ce.state),Je=m()("geo-data",{ip:"",country:""}),qe=(0,i.Z)(Je,2),Ke=qe[0];qe[1];function Xe(){return(Xe=(0,l.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ve&&clearTimeout(Ve),e.next=3,fetch("".concat((0,g.Kk)({region:"voiceglow-eu"===he?"eu":"na"}),"/fb?doc_id=clients/").concat(t.chatAssignedTo)).then((function(e){return e.json()}));case 3:n=e.sent,X((function(e){return O(O({},e),{},{blockInput:!1,manualControl:!0,notice:O(O({},e.notice),{},{custom:"",active:!1})})})),X((function(e){var t;return O(O({},e),{},{agentName:(null===(t=n.name)||void 0===t?void 0:t.split(" ")[0])||""})}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ye(e){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,l.Z)(s().mark((function e(t){var n,a,r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Ve&&clearTimeout(Ve),X((function(e){return O(O({},e),{},{manualControl:!1,blockInput:!0,agentName:"",notice:O(O({},e.notice),{},{custom:null})})})),e.next=5,(0,h.pl)((0,h.JU)(ye,"voiceglow/".concat(V,"/convos/").concat(K.userID||"UNDEFINED")),{state:"ai-chatting",chatAssignedTo:null,lastModified:d()().unix()},{merge:!0});case 5:return r=Ee.findLastIndex((function(e){return e.isAIGenerated})),e.next=8,(0,b.cG)({text:"No response from team..",translateTo:(null===(n=K.variables)||void 0===n?void 0:n.lang)||"en"});case 8:return i=e.sent,(null===(a=Ee[r])||void 0===a||null===(a=a.messages)||void 0===a?void 0:a.filter((function(e){return null==e?void 0:e.isAIGenerated})))||[],e.next=12,N({origin:"web-chat",agentID:K.variables.ID,userID:K.userID,messages:[{from:"bot",type:"info:default",item:i,delay:0}],bucket:he,action:t?{type:"intent",payload:{entities:[],intent:{name:"VG_HANDOFF_EXIT"},name:"VG_HANDOFF_EXIT",query:"VG_HANDOFF_EXIT"}}:void 0,safeAgentData:K.variables});case 12:if(t){e.next=15;break}return e.next=15,it(JSON.stringify({type:"VGVF_Channel",payload:i}),{type:"reject"});case 15:X((function(e){return O(O({},e),{},{blockInput:!1,manualControl:!1,agentName:"",notice:O(O({},e.notice),{},{custom:null})})})),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(0);case 20:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function $e(e){return et.apply(this,arguments)}function et(){return et=(0,l.Z)(s().mark((function e(t){var n,a,r,i,o,u,c,v,g;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.actionMessage,i=t.instant,o=0,!r||i){e.next=6;break}return Ee.forEach((function(e){e.messages.forEach((function(e){e.delay&&(o+=e.delay)}))})),e.next=6,new Promise((function(e){return setTimeout(e,o)}));case 6:return X((function(e){return O(O({},e),{},{manualControl:!1,blockInput:!1})})),u=i?6e4:1e3*(null===(n=r.item)||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.timeout)||6e4,e.next=10,(0,b.cG)({text:"Please wait, we're notifying the team..",translateTo:(null===(a=K.variables)||void 0===a?void 0:a.lang)||"en"});case 10:return c=e.sent,v=[N({origin:"web-chat",agentID:K.variables.ID,userID:K.userID,messages:[{from:"human",type:"info:default",item:c,delay:0}],bucket:he,safeAgentData:K.variables}),(0,h.pl)((0,h.JU)(ye,"voiceglow/".concat(V,"/convos/").concat(K.userID||"UNDEFINED")),{state:"requested_chat",lastModified:d()().unix()},{merge:!0})],e.next=14,Promise.allSettled(v);case 14:e.sent,g=setTimeout((0,l.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ye();case 1:case"end":return e.stop()}}),e)}))),u),Ae(g);case 17:case"end":return e.stop()}}),e)}))),et.apply(this,arguments)}function tt(e,t){return nt.apply(this,arguments)}function nt(){return nt=(0,l.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.forEach(function(){var e=(0,l.Z)(s().mark((function e(t){var a,r,i,o,u,c,v,p,f,m,h,y,w;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("GetBrowserData"!==t.type){e.next=4;break}return r=(0,b.zD)(),e.next=4,it(JSON.stringify({from:"bot",type:"VGVF_Channel",data:O(O({},r),{},{ip:Ke.ip,country:Ke.country}),ts:d()().unix()}));case 4:if("SetRuntime"!==t.type){e.next=16;break}if(u=null===(i=t.item)||void 0===i||null===(i=i.payload)||void 0===i?void 0:i.action,c=null===(o=t.item)||void 0===o||null===(o=o.payload)||void 0===o?void 0:o.payload,"request_handoff"!==u||!n.find((function(e){return"human"===e.from}))){e.next=15;break}return e.next=10,$e({actionMessage:t});case 10:return e.next=12,fetch("".concat((0,g.Sw)({region:"voiceglow-eu"===he?"eu":"na"}),"/vg/").concat(null===(v=K.variables)||void 0===v?void 0:v.ID,"/convos/").concat(K.userID,"/notify"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lightConvo:O(O({},Ce),{},{state:"requested_chat"}),turns:n,agentData:K.variables})});case 12:e.sent,X((function(e){return O(O({},e),{},{notice:O(O({},e.notice),{},{custom:I(x.Z,null)})})}));case 15:"set_variables"===u&&X((function(e){return O(O({},e),{},{variables:O(O({},e.variables),c||{})})}));case 16:"no-reply"!==t.type||null!=K&&null!==(a=K.variables)&&void 0!==a&&a.disableNoReplyListener||(f=JSON.stringify(null==t?void 0:t.item),m=0,Ee.forEach((function(e){e.messages.forEach((function(e){e.delay&&(m+=e.delay)}))})),null!=t&&null!==(p=t.item)&&void 0!==p&&null!==(p=p.payload)&&void 0!==p&&p.timeout&&(y=m+1e3*(null==t||null===(h=t.item)||void 0===h||null===(h=h.payload)||void 0===h?void 0:h.timeout),w=setTimeout((0,l.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X((function(e){return O(O({},e),{},{manualControl:!1,blockInput:!1,notice:O(O({},e.notice),{},{custom:null,active:!1})})})),e.next=3,it(f,O({},t.item));case 3:case"end":return e.stop()}}),e)}))),y),me(w)));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)}))),nt.apply(this,arguments)}function at(e,t,n,a){return rt.apply(this,arguments)}function rt(){return(rt=(0,l.Z)(s().mark((function t(n,r,i,l){var o,u,c,v,p,f,m,h,y,x,I,D,k,_,N,C,W,S,Z,E,j,G;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n||"UNDEFINED"===n||"undefined"===n||n===(null===(o=K.variables)||void 0===o?void 0:o.ID)||null==K||null===(u=K.variables)||void 0===u||!u.ID||"undefined"===(null==K||null===(c=K.variables)||void 0===c?void 0:c.ID)){t.next=27;break}if(t.prev=1,"vg"!==(null===(v=K.variables)||void 0===v?void 0:v.agentPlatform)){t.next=10;break}return"",C=new WebSocket("".concat((0,g.Cx)({region:"voiceglow-eu"===he?"eu":"na"}),"/ws")),[],W=0,C.onopen=function(){[];var e="start"===r?"start":r.payload;if(e){var t={agentId:K.variables.ID,convoId:n,bucket:he,prompt:e};C.send(JSON.stringify(t))}},C.onmessage=function(e){var t=JSON.parse(e.data);if("metadata"!==t.type){if(t.ui_engine){var n=t.chunk;try{var r,i=(0,P.Z)(n.trim()||"[]"),l={from:"bot",messages:[],ts:d()().unix()};try{l=JSON.parse(i)}catch(e){}null!==(r=l)&&void 0!==r&&null!==(r=r.messages)&&void 0!==r&&r.length&&je((function(e){return 0===W?[].concat((0,a.Z)(e),[l]):(e[e.length-1]=l,(0,a.Z)(e))}))}catch(e){}}else je((function(e){if(0===W)return[].concat((0,a.Z)(e),[{from:"bot",messages:[{from:"bot",type:"text",item:{payload:{message:t.chunk}},ts:d()().unix()}]}]);var n,r=(0,a.Z)(e);if(null!==(n=r[r.length-1])&&void 0!==n&&null!==(n=n.messages)&&void 0!==n&&n.length){var i=r[r.length-1].messages.length-1;return-1!==i&&(r[r.length-1].messages[i].item.payload.message+=t.chunk),r}return e}));W++}},t.abrupt("return");case 10:return S=(null===(p=window)||void 0===p||null===(p=p.VG_CONFIG)||void 0===p?void 0:p.vf_variables)||{},Z=(null==e?void 0:e.isTest)||!1,t.next=14,fetch("".concat((0,b.MC)({region:"voiceglow-eu"===he?"eu":"na"}),"/agents/").concat(K.variables.ID,"/interact/").concat(n),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({vg_id:K.variables.ID,action:r,runtime:{variables:e.variables||K.variables,lang:"automatic"===(null===(f=K.variables)||void 0===f?void 0:f.lang)||"automatic"===(null===(m=e.variables)||void 0===m?void 0:m.lang)?(null===(h=navigator)||void 0===h||null===(h=h.language)||void 0===h?void 0:h.split("-")[0])||"en":(null==e||null===(y=e.variables)||void 0===y?void 0:y.lang)||(null==K||null===(x=K.variables)||void 0===x?void 0:x.lang)},inititalTurns:K.reload?[]:i,isTest:Z,variables:O(O(O({},S),K.variables),l),appendAtStart:!0})}).then((function(e){return e.json()})).catch((function(e){}));case 14:return null!=(E=t.sent)&&null!==(I=E.turns)&&void 0!==I&&I.length||!e.isTest||je(null!==(j=K.variables)&&void 0!==j&&j.VF_DIALOGUE_API_KEY?w.b:w.s),G=null==E||null===(D=E.turns)||void 0===D||null===(D=D[(null==E||null===(k=E.turns)||void 0===k?void 0:k.length)-1])||void 0===D?void 0:D.messages,Ee[Ee.length-1],null!==(_=E.actionMessages)&&void 0!==_&&_.length&&tt(E.actionMessages,null==E?void 0:E.turns),null!=E&&null!==(N=E.turns)&&void 0!==N&&N.length&&(je(E.turns),document.dispatchEvent(new CustomEvent("VG_Events",{detail:{event:"new_turn",data:G,ts:d()().unix()}}))),t.abrupt("return",E);case 23:return t.prev=23,t.t0=t.catch(1),null!=e&&e.isTest&&ot(e.isTest?"Please double check your VF API key is correct, and have a published version.":"Error Occured, Please restart the chat.","fail",5e3),t.abrupt("return",!1);case 27:case"end":return t.stop()}}),t,null,[[1,23]])})))).apply(this,arguments)}u.useEffect((function(){U(K)}),[K]),u.useEffect((function(){var t;null!==(t=K.variables)&&void 0!==t&&t.manualControl&&X((function(t){var n;return O(O({},t),{},{manualControl:(null==K?void 0:K.manualControl)||(null===(n=K.variables)||void 0===n?void 0:n.manualControl)||!1,isSuperAdmin:e.isTest||!1})}))}),[K.variables]),u.useEffect((function(){e.isTest&&X((function(e){return O(O({},e),{},{isSuperAdmin:!0})}))}),[null==e?void 0:e.isTest]),u.useEffect((function(){var e,t;null!==(e=window)&&void 0!==e&&null!==(e=e.VG_CONFIG)&&void 0!==e&&e.userID&&((null===(t=window)||void 0===t||null===(t=t.VG_CONFIG)||void 0===t?void 0:t.userID)!==(null==H?void 0:H.userID)&&X((function(e){var t;return O(O({},e),{},{userID:(null===(t=window)||void 0===t||null===(t=t.VG_CONFIG)||void 0===t?void 0:t.userID)||"",reload:!0})})))}),[null===(j=window)||void 0===j||null===(j=j.VG_CONFIG)||void 0===j?void 0:j.userID,null==H?void 0:H.userID]),u.useEffect((function(){if(null!=ke&&ke.exists()&&K.userID){if(null!=ke&&ke.data()&&!1===K.reload){var e=O(O({},ke.data()),{},{ID:ke.id});if("human-chatting"===e.state&&e.chatAssignedTo&&(Ve&&clearTimeout(Ve),He(!0),function(e){Xe.apply(this,arguments)}(e),Ve&&clearTimeout(Ve)),"requested_chat"===e.state&&!e.chatAssignedTo){var t,n;X((function(e){return O(O({},e),{},{blockInput:!0,manualControl:!1})}));var a=(null===(t=Ee[Ee.length-1])||void 0===t||null===(t=t.messages[(null===(n=Ee[Ee.length-1])||void 0===n||null===(n=n.messages)||void 0===n?void 0:n.length)-1])||void 0===t?void 0:t.ts)||null;a&&d()().unix()>d().unix(a).add(60,"seconds").unix()&&Ye()}return"ai-chatting"===e.state&&(Ve&&clearTimeout(Ve),Ve&&clearTimeout(Ve),X((function(e){return O(O({},e),{},{blockInput:!1,manualControl:!1,agentName:"",notice:O(O({},e.notice),{},{custom:null})})}))),We(e)}return We({})}}),[ke,K.userID]),u.useEffect((function(){if(null!=Pe&&Pe.exists()&&K.userID){if(Te(!0),null!=Pe&&Pe.data()){var e,t=JSON.parse((null===(e=Pe.data())||void 0===e?void 0:e.convoTurns_JSON_STRING)||"[]");t.find((function(e){return e.messages.find((function(e){return e.content||e.rawItem}))}))&&(t=t.map((function(e){return O(O({},e),{},{messages:e.messages.map((function(e){return O(O({},e),{},{item:e.rawItem||e.content||e.item})}))})})));var n=t.map((function(e){return O(O({},e),{},{messages:e.messages.map((function(e){return O(O({},e),{},{isLoading:!1})}))})}));je((function(){return(0,a.Z)(n)}))}else He(!1),je([]);K.userID&&Te(!0)}else Te(void 0!==Pe||!0===ze)}),[Pe,K.userID]),u.useEffect((function(){var e,t;ve(B),X((function(e){return O(O({},e),{},{bucket:he,region:"voiceglow-eu"===he?"eu":"na"})})),U((function(e){return O(O({},e),{},{bucket:he,region:"voiceglow-eu"===he?"eu":"na"})})),(null!==(e=K.chatHistory)&&void 0!==e&&e.find((function(e){return e.content}))||null!==(t=H.chatHistory)&&void 0!==t&&t.find((function(e){return e.content})))&&X((function(e){return O(O({},e),{},{reload:!0})}))}),[]),u.useEffect((function(){var e,t;de!==(null===(e=window.location)||void 0===e?void 0:e.href)&&null!==(t=K.variables)&&void 0!==t&&t.listenForUrlChanges&&!B.includes("/agents/vf?vg_id")&&it(JSON.stringify({type:"VGVF_Channel"}),{type:"intent",payload:{entities:[],intent:{name:"VG_URL_CHANGE"},name:"VG_URL_CHANGE",query:"VG_URL_CHANGE"}})}),[B]),u.useEffect((function(){e.variables&&(X((function(t){return O(O({},t),{},{variables:e.variables})})),U((function(t){return O(O({},t),{},{variables:e.variables})})))}),[e.variables]);var it=function(){var e=(0,l.Z)(s().mark((function e(t,n,r,i,l,o,u){var c,v,g,p,f,m;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fe&&clearTimeout(fe),Ve&&clearTimeout(Ve),c=!1,v={},!1;try{"VGVF_Channel"!==(null==(g=JSON.parse(t))?void 0:g.type)&&"no-reply"!==(null==g?void 0:g.type)&&"VG_Response"!==(null==g?void 0:g.type)||(c=!0,g.vf_variables&&(v=g.vf_variables))}catch(e){c=!1}if(p=n||{type:"text",payload:t},f={from:o||"human",type:"text",item:{payload:{message:t}},ts:d()().unix(),isLoading:!!Ue},m={from:o||"human",ts:d()().unix(),messages:[f]},!c&&je((function(e){return[].concat((0,a.Z)(e),[m])})),!l&&i&&je((function(e){return[].concat((0,a.Z)(e),[i])})),!Ue&&!K.manualControl){e.next=16;break}return N({agentID:K.variables.ID,userID:K.userID,bucket:K.bucket,messages:[f],safeAgentData:K.variables}),e.abrupt("return");case 16:at(K.userID,p,null!=i&&i.from?[].concat((0,a.Z)(Ee),[i]):c?null:[].concat((0,a.Z)(Ee),[m]),v).catch((function(e){}));case 17:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,l,o){return e.apply(this,arguments)}}();function lt(){return(lt=(0,l.Z)(s().mark((function e(t,n){var r,i,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={from:n||"human",ts:d()().unix(),messages:t.map((function(e){return{from:n||"human",type:"text",item:{payload:{message:e}},ts:d()().unix(),isLoading:!0}}))},l="bot"===(null===(r=Ee[Ee.length-1])||void 0===r?void 0:r.from)?[].concat((0,a.Z)(Ee),[i]):[].concat((0,a.Z)(Ee.slice(0,Ee.length-1)),[i]),je((function(e){return(0,a.Z)(l)})),e.next=5,N({agentID:K.variables.ID,userID:K.userID,bucket:he,messages:i.messages,safeAgentData:K.variables});case 5:return e.abrupt("return",l);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}u.useEffect((function(){if(oe.length&&!K.manualControl){var e;X((function(e){return O(O({},e),{},{blockLoading:!0})})),clearTimeout(ae);var t=setTimeout((0,l.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X((function(e){return O(O({},e),{},{blockLoading:!1,loading:!0})})),e.next=3,at(K.userID,{type:"text",payload:oe.join(" ")},Ee.length?Ee:null).catch((function(e){}));case 3:se([]);case 4:case"end":return e.stop()}}),e)}))),null===(e=K.variables)||void 0===e?void 0:e.delayBeforeSubmit);return re(t),function(){clearTimeout(t)}}}),[oe]);var ot=function(e,t,n){X((function(a){return O(O({},a),{},{notice:{message:e,type:t,duration:n,active:!0}})})),setTimeout((function(){X((function(n){return O(O({},n),{},{notice:{message:e,type:t,active:!1}})}))}),n)};function st(){return(st=(0,l.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.pl)((0,h.JU)(ye,"voiceglow/".concat(V,"/convos/").concat(K.userID||"UNDEFINED")),{state:"ai-chatting",chatAssignedTo:null,lastModified:d()().unix()},{merge:!0});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(e){var t=e.data;"VG_PushMessage"===t.function&&it(t.payload,!Ee.length&&"start")}u.useEffect((function(){var t;if(!K.userID&&null!==(t=K.variables)&&void 0!==t&&t.ID){var n,a,r,i=(Math.random()+1).toString(36).substring(7),l="".concat((null===(n=K.variables)||void 0===n?void 0:n.ID)||"","_").concat(i),o=(null===(a=window)||void 0===a||null===(a=a.VG_CONFIG)||void 0===a?void 0:a.userID)||(null!==(r=e.variables)&&void 0!==r&&r.chatForget||K.variables.chatForget?l:H.userID||K.userID||l);X((function(e){return O(O({},e),{},{userID:o})})),U((function(e){return O(O({},e),{},{userID:o})}))}}),[null===(G=K.variables)||void 0===G?void 0:G.ID]),u.useEffect((function(){var e;null!==(e=K.variables)&&void 0!==e&&e.ID&&K.userID&&0===Ee.length&&!0===ze&&!Ie&&!1===$&&!K.manualControl&&(ee(!0),X((function(e){return O(O({},e),{},{blockInput:!1})})),at(K.userID,"start").catch((function(e){})))}),[K.userID,ze,Ie]),u.useEffect((function(){K.reload&&(je([]),function(){return st.apply(this,arguments)}().then((function(){var e;X((function(e){var t;return O(O({},e),{},{reload:!1,blockInput:!1,manualControl:!1,agentName:"",notice:O(O({},e.notice),{},{custom:"",active:!1}),userID:(null===(t=window)||void 0===t||null===(t=t.VG_CONFIG)||void 0===t?void 0:t.userID)||e.userID||""})})),at((null===(e=window)||void 0===e||null===(e=e.VG_CONFIG)||void 0===e?void 0:e.userID)||K.userID,"start").then((function(){X((function(e){return O(O({},e),{},{notice:O(O({},e.notice),{},{active:!1,custom:""})})}))})).catch((function(e){}))})))}),[K.reload]),u.useEffect((function(){if(K.userID)return window.addEventListener("message",ut),window.VG_ADMIN={interact:function(e){return N({agentID:K.variables.ID,userID:K.userID,bucket:he,safeAgentData:K.variables,action:e,origin:"web-chat"})},pushMessage:function(e){return function(e){var t,n;K.manualControl&&K.userID&&null!==(t=K.variables)&&void 0!==t&&t.ID?N({userID:K.userID,agentID:null===(n=K.variables)||void 0===n?void 0:n.ID,messages:[{from:e.from,type:e.type,item:{payload:{message:e.payload}},delay:e.delay||0,ts:d()().unix()}],bucket:he,safeAgentData:K.variables}):it(e.payload)}(e)},reload:function(){return X((function(e){return O(O({},e),{},{reload:!0})}))},getRuntime:function(e){return O(O({},K),{},{turns:Ee})},setRuntime:function(e){X((function(t){var n=O(O({},t),e);return U(n),n}))}},function(){window.removeEventListener("message",ut)}}),[K]);var ct={runtime:K,setRuntime:X,setLocalRuntime:U,handlePushMessage:it,pushChatNotice:ot,formattedTurnsValue:Ee,setFormattedTurnsValue:je,continueInteract:at,isTest:e.isTest,hasLoaded:ze,lightConvoData:Ce,pushHumanTurnLocal:function(e,t){return lt.apply(this,arguments)},confirmedBucket:he,handleRequestHandoffInit:$e,handleVGHandoffReject:Ye,clearNoReplyTimeout:function(){fe&&clearTimeout(fe)}};return I(k.Provider,{value:ct},e.children)};const S=W},4070:(e,t,n)=>{n.d(t,{Z:()=>C});var a=n(2982),r=n(2167),i=n(5861),l=n(885),o=n(4687),s=n.n(o),u=n(7693),c=n(2280),d=n(3850),v=n(9660),g=n(2931),p=n(7294),f=n(8676),m=n(381),b=n.n(m),h=n(7828),y=n(7619),w=n(5434),x=n(7516),P=n(9352),I=n(8871),D=n(4149),O=n(1148),k=p.createElement;function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const C=function(e){var t,n,r,o,m,_,C,W=(0,f.useRuntime)(),S=W.runtime,Z=W.setRuntime,E=W.formattedTurnsValue,j=W.confirmedBucket,G=W.setLocalRuntime,M=W.handleVGHandoffReject,z=p.useState(!1),T=(0,l.Z)(z,2),F=T[0],B=T[1],V=p.useState({email:"",message:"",attachmentLinks:[]}),A=(0,l.Z)(V,2),R=A[0],L=A[1],H=p.useState(!1),U=(0,l.Z)(H,2),J=U[0],q=U[1];function K(e){return X.apply(this,arguments)}function X(){return X=(0,i.Z)(s().mark((function e(t){var n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),a=[fetch("".concat((0,O.Sw)({region:"voiceglow-eu"===j?"eu":"na"}),"/vg/").concat(null===(n=S.variables)||void 0===n?void 0:n.ID,"/convos/").concat(S.userID,"/notify"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({from:"email-form",emailForm:t,turns:E,agentData:S.variables})}).then((function(e){return e.json()})),(0,f.handlePushMessageNoInteract)({agentID:S.variables.ID,userID:S.userID,messages:[{from:"human",type:"EmailForm",item:t,delay:0}],bucket:j,safeAgentData:S.variables})],e.next=4,Promise.all(a);case 4:e.sent,B(!1),L({email:"",message:"",attachmentLinks:[]}),q(!1);case 9:case"end":return e.stop()}}),e)}))),X.apply(this,arguments)}function Y(){return(Y=(0,i.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.cancelToIntent,document.dispatchEvent(new CustomEvent("VG_Events",{detail:{event:"handoff_cancel",data:{chatOpened:!0,ts:b()().unix()},ts:b()().unix()}})),M({cancelToIntent:n}),Z((function(e){return N(N({},e),{},{notice:N(N({},e.notice),{},{custom:"",active:!1})})})),G((function(e){return N(N({},e),{},{notice:N(N({},e.notice),{},{custom:"",active:!1})})}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return k(u.Z,{divKey:"should_cancel_handoff",className:" vg-absolute vg-bottom-0 vg-w-full vg-h-auto vg-z-50 vg-rounded-large vg-notice-container vg-w-full vg-bg-background/50 vg-backdrop-blur vg-handoff--outer-container"},k("div",{className:" vg-p-unit-5 vg-handoff--inner-container"},k("div",{className:" vg-flex vg-flex-col vg-handoff"},k(h.M,null,k(y.E.div,{key:"handoff-cancel-button",className:" vg-w-full vg-mb-2 vg-handoff-cancel--container",layout:!0},k(d.Z,{className:" vg-bg-danger-50 vg-flex vg-gap-2 vg-justify-center vg-items-center vg-w-full vg-handoff-cancel--btn",onPress:function(){!function(e){Y.apply(this,arguments)}({cancelToIntent:e.cancelToIntent})},variant:"light",color:"danger"},k(w.xg7,{className:" vg-w-5 vg-h-5 vg-flex-shrink-0 vg-handoff-cancel--icon"}),k(c.Z,{className:" vg-font-bold ",text:"Cancel Handoff Request",to:null===(t=S.variables)||void 0===t?void 0:t.lang}))),k(y.E.div,{key:"handoff-sendemail-show",className:" vg-w-full vg-mb-2 vg-handoff-email--container",layout:!0},k(d.Z,{color:"primary",onPress:function(){B((function(e){return!e}))},variant:"light",className:" vg-bg-primary-50 vg-text-primary-900 vg-flex vg-justify-center vg-items-center vg-gap-2 vg-w-full vg-handoff-email--btn"},k(x.PRb,{className:" vg-w-5 vg-h-5 vg-flex-shrink-0 vg-handoff-send--icon"}),k(c.Z,F?{className:" vg-font-bold vg-handoff-hide--text",text:"Hide Prompt",to:null===(n=S.variables)||void 0===n?void 0:n.lang}:{className:" vg-font-bold vg-handoff-send--text",text:"Send an Email",to:null===(r=S.variables)||void 0===r?void 0:r.lang}))),F?k(y.E.form,{className:"vg-handoff-email--form",onSubmit:function(e){e.preventDefault(),K(R)},initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},key:"prompt-email"},k(v.Z,{isDisabled:J,value:R.email,onValueChange:function(e){return L((function(t){return N(N({},t),{},{email:e})}))},type:"email",className:" vg-mb-2 vg-font-bold vg-handoff-email--input",classNames:{input:" vg-font-bold "},label:k(c.Z,{text:"Your Email",to:null===(o=S.variables)||void 0===o?void 0:o.lang}),size:"md",variant:"bordered"}),k(g.Z,{isDisabled:J,className:" vg-mb-2 vg-handoff-message--input",endContent:k(I.Z,{className:" vg-bg-primary-50 vg-min-w-0 vg-w-8 vg-h-8 vg-handoff-attachments--btn",callback:function(e){return L((function(t){return N(N({},t),{},{attachmentLinks:[].concat((0,a.Z)(t.attachmentLinks),[{sizeKB:e.sizeKB,filename:e.filename,url:e.url}])})}))},buttonProps:{className:"bg-primary-50 w-5 h-5 flex-shrink-0",color:"default",variant:"light"}},k(P.G1z,{className:" vg-w-5 vg-h-5 vg-flex-shrink-0 vg-handoff-attachments--icon"})),value:R.message,onValueChange:function(e){return L((function(t){return N(N({},t),{},{message:e})}))},label:k(c.Z,{text:"Message",to:null===(m=S.variables)||void 0===m?void 0:m.lang}),size:"sm",variant:"bordered"}),null!==(_=R.attachmentLinks)&&void 0!==_&&_.length&&F?k("div",{key:"handoff-attachments",className:" vg-w-full vg-mb-2 vg-handoff-attachments--outer-container"},k("div",{className:" vg-flex vg-flex-col vg-gap-2 vg-handoff-attachments--inner-container"},R.attachmentLinks.map((function(e,t){return k("div",{key:"attachment_".concat(t),className:" vg-flex vg-gap-2 vg-items-center vg-w-full vg-min-w-0 vg-max-w-auto vg-handoff-attachment--container"},k(P.G1z,{className:" vg-w-4 vg-h-4 vg-flex-shrink-0 vg-handoff-attachment--icon"}),k("p",{className:" vg-text-tiny vg-handoff-attachment--text"},e.filename," · ",e.sizeKB," KB"),k(d.Z,{isDisabled:J,onPress:function(){return L((function(e){return N(N({},e),{},{attachmentLinks:e.attachmentLinks.filter((function(e,n){return n!==t}))})}))},isIconOnly:!0,className:" vg-bg-danger-50 vg-min-w-0 vg-w-5 vg-h-5 vg-handoff-attachment-remove--btn",color:"danger",variant:"light"},k(D.QAE,{className:" vg-w-3 vg-h-3 vg-handoff-attachment-remove--icon"})))})))):null,k(d.Z,{isDisabled:J,onPress:function(){return K(R)},color:"primary",size:"sm",variant:"light",className:" vg-bg-primary-50 vg-w-32 vg-handoff-form-submit--btn"},k(c.Z,{className:"vg-handoff-form-submit--label",to:(null===(C=S.variables)||void 0===C?void 0:C.lang)||"en"},"Submit"))):null))))}},1300:(e,t,n)=>{n.d(t,{b:()=>i,s:()=>l});var a=n(381),r=n.n(a),i=[{from:"bot",messages:[{from:"bot",type:"info:danger",item:"Please double check your API key."},{from:"bot",type:"text",item:{payload:{message:"Something went wrong, either the API key is incorrect or you haven't published on VF."}}}],ts:r()().unix()}],l=[{from:"bot",messages:[{from:"bot",type:"text",item:{payload:{message:"Hi, Lets get started!"}}},{from:"bot",type:"text",item:{payload:{message:"First copy & paste your VF API key, **don't forget to always publish on VF after making changes.**"}}},{from:"bot",type:"text",item:{payload:{message:"Then on VG press **save > reset agent**, and you're good to go!"}}}],ts:r()().unix()}]},3711:(e,t,n)=>{n.d(t,{l2:()=>i});var a=n(3977),r=n(8650),i=(0,a.ZF)({apiKey:"AIzaSyDa4-xVrMX57smdpqvq3vU_cw_YJHdGK9g",authDomain:"speakwiz-app.firebaseapp.com",projectId:"speakwiz-app",storageBucket:"speakwiz-app.appspot.com",messagingSenderId:"264031558",appId:"1:264031558:web:aaf1b2d3078125841da947",measurementId:"G-WBEN55T42T"});(0,r.getFirestore)(i),(0,r.getFirestore)(i,"voiceglow-eu")}}]);